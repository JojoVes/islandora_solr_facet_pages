{#
/**
 * @file
 * Islandora Solr template file for facet results.
 *
 * Variables available:
 * - $variables: all array elements of $variables can be used as a variable.
 *   e.g. $base_url equals $variables['base_url']
 * - $base_url: The base URL of the current website. eg: http://example.com .
 * - $user: The user object.
 *
 * - $results: Array containing search results to render
 * - $solr_field: Facet Solr field to be used to create URL's including a filter
 *
 */
#}

<ul class="islandora-solr-facet-pages-results">
  {% for result, count in results %}
    <li>
      {% set filter = solr_field ~ ':"' ~ result|e('html') ~ '"' %}
      <a href="{{ path('islandora_solr.islandora_solr', {'query': '*:*'}, {query: {'f': [filter]}}) }}"> {{ result[:72] }}</a>
      <span class="bucket-size">({{ count }})</span>
    </li>
  {% endfor %}
</ul>
